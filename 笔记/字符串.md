# 字符串

`char word[] = {'H','e','l','l','o','!'};`

| word[0] | H    |
| :-----: | ---- |
| word[1] | e    |
| word[2] | l    |
| word[3] | l    |
| word[4] | o    |
| word[5] | !    |

这是字符数组，但不是字符串，因为不能用字符串的方式做计算。

- `char word[] = {'H','e','l','l','o','!','\0'};`
  - 在字符数组的末尾加上单引号 '\0'，表示这是一个字符串。
  - 当然也可以把单引号去掉，直接写0，
- 以0（整数0）结尾的一串字符
  - 0 或 '\0' 是一样的，但和 '\0' 不同
- 0标志字符串的结束，但他不是字符串的一部分
  - 计算字符串长度的时候不包含这个0
- 字符串以数组的形式存在，以数组或指针的形式访问
  - 更多的是以指针的形式
- C语言的字符串是以字符数组的形态存在的
  - 不能通过运算符对字符串做运算
  - 通过数组的方式可以遍历字符串
- 唯一特殊的地方是字符串字面量可以用来初始化字符数组

- `string.h`里有很多处理字符串的函数

## 字符串变量

- `char *str = "Hello";`
- `char word[] = "Hello";`
- `char line[10] = "Hello";`

## 字符串常量

- "Hello"
  - "hello"会被编译器变成一种字符数组放在某处，这个数组的长度是6，结尾还有表示结束的0

`char *s = "hello,world!";`

- s是一个指针，初始化指向一个字符串常量
  - 由于这个常量所在的地方，实际上s是const char*s，但由于历史的原因，编译器接受不带 const 的写法
  - 但是试图对s所指的字符串做写入会导致严重的后果
- 如果需要修改字符串，应该用数组：
  `char s[] = "hello,world!";`

## 指针还是数组？

- `char *str = "hello";`
- `char word[] = "hello";`
- 数组：这个字符串在这里
  - 作为本地变量空间自动被回收
- 指针：这个字符串不知道在哪里
  - 处理参数
  - 动态分配空间
- **如果你要构造一个字符串——数组**
- **如果你要处理一个字符串——指针**

#### char*是字符串？

- 字符串可以表达为 char*
- char* 不一定是字符串
  - 本意是指向字符的指针，可能指向的是字符的数组（就像 int*一样）
  - 只有它所指的字符数组的结尾是0时，才能说它所指的是字符串

