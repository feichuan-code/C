# 函数



代码重复是代码质量不良的表现。

## 什么是函数

- 函数是一块代码，接受**零**或**多个**参数，做一件事情，并返回**零**或一个值。

## 函数定义

![image-20211125112126541](https://i.loli.net/2021/11/25/lubQqGieHhvkEaV.png)

函数由**函数头**及**函数体**构成。   

函数头后面必须紧跟一个大括号，大括号里的代码称为函数体；函数头包含有三个参数：

- 返回类型，表示此函数返回的数据类型。
- 函数名，表示该函数的标识符。
- 参数表，使用此函数所需要传入的数据，必须声明类型，参数与参数之间用逗号分隔。

### 调用函数

- **函数名 (参数值);**
- ()起到了函数调用的作用
- 即使没有参数也需要（）
- 如果有参数，则需要按照正确的数量和顺序
- 这些值会被按照顺序依次用来初始化函数中的值。

### 从函数中返回值

<img src="C:\Users\fei_c\Documents\Programing Language\C\笔记\image-20211127230022456-16380252274131.png" alt="image-20211127230022456" style="zoom: 50%;" />

- **return **停止函数的执行，并返回一个值。
  - retun;
  - return 表达式;
- 可以赋值给变量
- 可以再传递给函数
- 甚至可以丢弃！
- ![image-20211127230623665](C:\Users\fei_c\Documents\Programing Language\C\笔记\image-20211127230623665-16380255860902.png)

#### 没有返回值的函数

函数类型为void

- void 函数名（参数表）
- 不能使用带值的return
  - 可以没有return
- 调用的时候不能做返回值的赋值。
  - 如果函数有返回值，则必须使用带值的**return**。

## 函数先后关系

<img src="C:\Users\fei_c\Documents\Programing Language\C\笔记\image-20211127230950681.png" alt="image-20211127230950681" style="zoom:50%;" />

为什么函数写在main上面呢？

- 像这样吧sum()写在上面，是因为：
- C的编译器自上而下顺序分析你的代码
- 在看到sum(1,10)的时候，它需要知道sum()的样子
- 也就是sum()要几个参数，每个参数类型如何，返回什么 **类型**
- 这样它才可以检查你对sum()的调用是否正确。



#### 函数原型

![](C:\Users\fei_c\Documents\Programing Language\C\笔记\image-20211127233551773.png)

## 本地变量

- 函数每次运行，就产生了一个**独立的**变量空间，在这个空间中的变量，是此函数中独有的，称作 **本地变量**。
- 定义在 **函数内部** 的变量就是本地变量，定义在函数外的称为 **全局变量** 。
- 参数也是本地变量
- 不同函数中的变量名可以是相同的

### 生存期和作用域

- ==**生存期**==：什么时候这个变量开始出现了，到什么时候它消亡了
- ==**作用域**==：在（代码的）什么范围内可以访问这个变量（这个变量起作用）
- 对于本地变量，这两个答案是统一的：**大括号内——块。**

![image-20211128141139516](C:\Users\fei_c\Documents\Programing Language\C\笔记\image\image-20211128141139516-16380799013071.png)

### 形参和实参

**概念：**从字面上理解，所谓形式参数即只只是声明了一个作为参数的变量，并未直接进行赋值使用，而实际参数则相反。

